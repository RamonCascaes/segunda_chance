unit ucrud;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs,conexao;

type
  TFcrud = class(TForm)
  private
    { Private declarations }
  public
    { Public declarations }
    procedure ADD_carrinho(codcar,codpro,qtd,codcli : integer);
  end;

var
  Fcrud: TFcrud;

implementation

{$R *.dfm}

{ TForm4 }

procedure TFcrud.ADD_carrinho(codcar, codpro, qtd, codcli: integer);
begin
   conexao.Form1.Q.sql.Clear;
   conexao.Form1.Q.SQL.Add('  declare @car00_codigo  ;set @car00_codigo = '+Inttostr( codcar));
   conexao.Form1.Q.SQL.Add('  declare @car00_codpro  ;set @car00_codpro = '+Inttostr( codpro));
   conexao.Form1.Q.SQL.Add('  declare @car00_qtdpro  ;set @car00_qtdpro = '+Inttostr( qtd   ));
   conexao.Form1.Q.SQL.Add('  declare @car00_codcli  ;set @car00_codcli = '+Inttostr( codcli));
   conexao.Form1.Q.SQL.Add(' update Carrinho set                                 ');
   conexao.Form1.Q.SQL.Add('  insert into Carrinho (                              ');
   conexao.Form1.Q.SQL.Add('         car00_codigo,                                ');
   conexao.Form1.Q.SQL.Add('				 car00_codpro,                                ');
   conexao.Form1.Q.SQL.Add('				 car00_qtdpro,                                ');
   conexao.Form1.Q.SQL.Add('				 car00_codcli) values(                        ');
   conexao.Form1.Q.SQL.Add('                                                      ');
   conexao.Form1.Q.SQL.Add('				 @car00_codigo,                               ');
   conexao.Form1.Q.SQL.Add('				 @car00_codpro,                               ');
   conexao.Form1.Q.SQL.Add('				 @car00_qtdpro,                               ');
   conexao.Form1.Q.SQL.Add('				 @car00_codcli )                              ');
   conexao.Form1.Q.ExecSQL;
end;

end.
